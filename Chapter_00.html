<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wireline Logging Tutorial</title>
    <link rel="stylesheet" href="styles.css">
    <!-- Include the Open Sans font -->
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400&display=swap" rel="stylesheet">
    <style>
        body {
            margin: 0;
            font-family: 'Open Sans', Arial, sans-serif;
        }
        .main-container {
            display: flex;
            flex-direction: row;
            align-items: flex-start;
            justify-content: space-between;
            height: 100vh;
            overflow: hidden;
        }
        .menu-container {
            flex: 0 0 15%; /* 15% of the width for the menu */
            background-color: #fff;
            padding: 10px;
            box-shadow: 2px 0 5px rgba(0,0,0,0.1);
            overflow-y: auto; /* Enable scrolling if content overflows */
            max-height: 100vh; /* Set maximum height to viewport height */
        }
        .menu-container a {
            display: block;
            
            padding: 10px;
            text-decoration: none;
            color: #333;
            border-bottom: 1px solid #ddd;
        }
        .menu-container a:hover {
            background-color: #ddd;
        }
        .video-container {
            padding-top: 50px;
            flex: 0 0 50%; /* 50% of the width for the video */
            position: relative;
            background-color: #fff;
        }
        .script-container {
            padding-top: 50px;
            flex: 0 0 25%; /* 25% of the width for the script */
            background-color: #fff;
            padding: 10px;
            overflow-y: auto;
            max-height: 100vh;
            box-shadow: -2px 0 5px rgba(0,0,0,0.1);
        }
        .highlight {
            background-color: rgba(173, 216, 230, 0.3); /* Light blue background */
        }
        @media (max-width: 768px) {
            .main-container {
                flex-direction: column;
            }
            .menu-container, .video-container, .script-container {
                flex: 1 0 auto;
                width: 100%;
                height: auto;
            }
            .menu-container {
                order: 2;
            }
            .video-container {
                order: 1;
            }
            .script-container {
                order: 3;
            }
        }
    </style>
</head>
<body>
    <div class="main-container">
        <div class="menu-container">
            <a href="#"><h1>Oil & Gas - Wireline Logging Essential Training</h1></a>
            <a href="#" data-time="00:01">Chapter 1 - The Reservoir and the Logging Environment</a>
            <a href="#" data-time="00:29">Chapter 2 - Spontaneous Potential or SP</a>
            <a href="#" data-time="00:49">Chapter 3 - Resistivity Tools</a>
            <a href="#" data-time="01:06">Chapter 4 - Gamma Rays</a>
            <a href="#" data-time="02:18">Chapter 5 - Neutron Porosity</a>
            <a href="#" data-time="04:39">Chapter 6 - Density Porosity</a>
            <a href="#" data-time="06:24">Chapter 7 - Acoustic Porosity</a>
            <a href="https://github.com/ricardocalleja/website_test/tree/main/Manuals" download>Course Manuals</a>
            <a href="https://ricardocalleja.com/">Back to main menu</a>
        </div>

        <div class="video-container">
            <div style="padding:56.25% 0 0 0;position:relative;">
                <iframe id="vimeo-player" src="https://player.vimeo.com/video/999324463?badge=0&amp;autopause=0&amp;player_id=0&amp;app_id=58479" 
                        frameborder="0" allow="autoplay; fullscreen; picture-in-picture; clipboard-write" 
                        style="position:absolute;top:0;left:0;width:100%;height:100%;" 
                        title="Chapter_1"></iframe>
            </div>
        </div>

        <div class="script-container" id="script-container">
            <div id="script">
                <!-- Add your script here with timestamps -->
                <p data-time="00"><b>Welcome</b></p>
            <p data-time="00">Ricardo: Hello, I am Ricardo Calleja, and I want to welcome you to the course: Wireline Logging, Essential Training.</p>
            
            <p data-time="07"><b>Learning Objectives</b></p>
            <p data-time="07">This course covers foundational aspects of wireline logging: the resources needed, factors affecting the quality of logs, standards, and general practices in the oil and gas industry.</p>
            <p data-time="29">Let's face it, this is not an easy job. It involves a lot of troubleshooting, data analysis, traveling, and physical effort. However, mastering the key concepts being taught here, will take you one step closer to success in the field.
            </p>
            
            <p data-time="49">This initial training is divided in the following 7 chapters:</p>
            
            <p data-time="66">
                <b>Course Chapters:</b>
            </p>
            <ul>
                <li>Chapter 1 - The Reservoir and the Logging Environment</li>
                <li>Chapter 2 - Spontaneous Potential or SP</li>
                <li>Chapter 3 - Resistivity Tools</li>
                <li>Chapter 4 - Gamma Rays</li>
                <li>Chapter 5 - Neutron Porosity</li>
                <li>Chapter 6 - Density Porosity</li>
                <li>Chapter 7 - Acoustic Porosity</li>
            </ul>
            <p data-time="91">Be aware that this course is not about the technology of a specific service company. Instead, we will review what the industry leaders have to offer, providing a comprehensive understanding of wireline logging practices. Letâ€™s begin.</p>
            
                <!-- More script content -->
            </div>
        </div>
    </div>

    <script src="https://player.vimeo.com/api/player.js"></script>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        // Vimeo Player setup
        const iframe = document.getElementById('vimeo-player');
        const player = new Vimeo.Player(iframe);

        // Elements related to the script highlighting and scrolling
        const scriptContainer = document.getElementById('script-container');
        const scriptParagraphs = document.querySelectorAll('#script p');

        // Handle video time updates
        player.on('timeupdate', function(event) {
            const currentTime = event.seconds;

            scriptParagraphs.forEach(paragraph => {
                const paragraphTime = parseFloat(paragraph.getAttribute('data-time'));
                if (currentTime >= paragraphTime && currentTime < paragraphTime + 5) {
                    scriptParagraphs.forEach(p => p.classList.remove('highlight'));
                    paragraph.classList.add('highlight');
                    
                    // Scroll into view
                    scriptContainer.scrollTop = paragraph.offsetTop - scriptContainer.offsetTop;
                }
            });
        });

        // Handle clicks on the menu items to sync with the video
        const menuItems = document.querySelectorAll('.menu-container a[data-time]');
        menuItems.forEach(item => {
            item.addEventListener('click', function(event) {
                event.preventDefault();

                // Get the time from the data-time attribute
                const time = item.getAttribute('data-time');
                const timeParts = time.split(':');
                const seconds = parseInt(timeParts[0]) * 60 + parseInt(timeParts[1]);

                // Set the player to the clicked time
                player.setCurrentTime(seconds).then(function() {
                    // Video time is set
                }).catch(function(error) {
                    console.error('Error setting video time:', error);
                });
            });
        });
    });
</script>

</body>
</html>
